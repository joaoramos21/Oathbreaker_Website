{{< layout}}
{{$main}}
<!-- Error Content -->
<section class="error-container" id="error-container">
    <div class="error-background"></div>
    
    <!-- Random Character Image -->
    <div class="error-character" id="error-character">
        <img src="" alt="Lost Soul" id="random-character-img" class="character-img">
        <div class="character-glow"></div>
    </div>
    
    <!-- Floating Particles -->
    <div class="error-particles" id="error-particles"></div>
    
    <div class="error-content">
        <h1 class="error-code" id="error-code">{{errorCode}}</h1>
        <h2 class="error-title" id="error-title">{{errorTitle}}</h2>
        <div class="error-divider"></div>
        <p class="error-message" id="error-message">{{errorMessage}}</p>
        <br>
        <br>
        <br>
        <br>
        <br>
       
        <!-- Game Hint -->
        <p class="game-hint" id="game-hint">
            <span class="hint-icon">⚔️</span>
            <span class="hint-text">Click anywhere to begin your trial...</span>
        </p>
        <br>
        <br>
        <br>
        <br>
        <br>
        <a href="{{returnLink}}" class="cta-button">{{returnText}}</a>
    </div>
    
    <!-- Mini-Game Canvas (hidden until activated) -->
    <div class="minigame-container" id="minigame-container">
        <button class="game-close-x" id="close-game-x" aria-label="Close game">&times;</button>
        <canvas id="game-canvas"></canvas>
        <div class="game-ui">
            <div class="game-score">Souls: <span id="game-score">0</span></div>
            <div class="game-high-score">Best: <span id="high-score">0</span></div>
        </div>
        <div class="game-over-screen" id="game-over-screen">
            <h3>Fallen in Battle</h3>
            <div class="divider"></div>
            <span class="score-label">Souls Collected</span>
            <span class="score-display" id="final-score">0</span>
            <div class="divider"></div>
            <div class="button-group">
                <button class="game-restart-btn" id="restart-btn">Rise Again</button>
                <button class="game-close-btn" id="close-game-btn">Return to Void</button>
            </div>
        </div>
        <div class="game-instructions visible" id="game-instructions">
            <h3>Soul Runner</h3>
            <p>Dodge the shadows and collect lost souls to prove your worth.</p>
            <p class="controls-hint">Press SPACE or TAP to jump</p>
            <button class="game-start-btn" id="start-game-btn">Begin Trial</button>
        </div>
    </div>
</section>

<!-- Error Page Scripts -->
<script src="assets/js/error-game.js"></script>
{{/main}}
{{/layout}}